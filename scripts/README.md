# GitHub Projects V2 자동화 스크립트

## 개요

이 스크립트는 GitHub Projects V2 API를 사용하여 프로젝트를 생성하고, 모든 task 이슈를 프로젝트에 추가하며, 각 이슈에 시작일/종료일을 설정합니다.

## 사전 요구사항

1. **GitHub CLI 설치**: `gh` 명령어가 설치되어 있어야 합니다.
2. **프로젝트 권한**: GitHub CLI 토큰에 `project` 및 `read:project` 스코프가 필요합니다.

## 권한 설정

### 방법 1: GitHub CLI를 통한 권한 갱신 (권장)

```powershell
gh auth refresh -s project
```

브라우저가 열리면 GitHub에 로그인하고 권한을 승인하세요.

### 방법 2: GitHub 웹사이트에서 토큰 확인

1. https://github.com/settings/tokens 로 이동
2. Personal access tokens > Fine-grained tokens에서 현재 사용 중인 토큰 확인
3. 토큰에 `project` 및 `read:project` 권한이 있는지 확인
4. 없으면 새 토큰을 생성하거나 기존 토큰을 수정

## 사용 방법

```powershell
cd studio
.\scripts\setup-projects.ps1
```

## 스크립트 동작

1. 저장소 정보 조회
2. 기존 프로젝트 조회 (있으면 사용, 없으면 생성)
3. 프로젝트 필드 조회 (Start Date, Due Date 필드 확인)
4. 각 이슈(#3~#15)를 프로젝트에 추가
5. 각 이슈에 시작일/종료일 설정

## 이슈-날짜 매핑

| 이슈 번호 | 시작일 | 종료일 | 소요 시간 |
|---------|--------|--------|----------|
| #3 | 2025-11-29 | 2025-11-30 | 1일 |
| #4 | 2025-11-30 | 2025-12-01 | 1일 |
| #5 | 2025-12-01 | 2025-12-02 | 1일 |
| #6 | 2025-12-02 | 2025-12-03 | 1일 |
| #7 | 2025-12-03 | 2025-12-05 | 2일 |
| #8 | 2025-12-05 | 2025-12-07 | 2일 |
| #9 | 2025-12-07 | 2025-12-10 | 3일 |
| #10 | 2025-12-09 | 2025-12-11 | 2일 |
| #11 | 2025-12-11 | 2025-12-18 | 7일 |
| #12 | 2025-12-18 | 2025-12-20 | 2일 |
| #13 | 2025-12-20 | 2025-12-22 | 2일 |
| #14 | 2025-12-22 | 2025-12-25 | 3일 |
| #15 | 2025-12-25 | 2025-12-26 | 1일 |

## 문제 해결

### "Your token has not been granted the required scopes" 오류

토큰에 `project` 및 `read:project` 스코프가 없습니다. 위의 "권한 설정" 섹션을 참조하세요.

### "Start Date 필드가 없습니다" 메시지

GitHub Projects에서 수동으로 필드를 생성해야 합니다:
1. 프로젝트 페이지로 이동
2. 프로젝트 설정 > Fields
3. "Add field" 클릭 > "Date" 선택
4. 필드 이름을 "Start date"로 설정
5. 동일하게 "Due date" 필드도 생성

### 프로젝트가 생성되지 않는 경우

사용자 계정(kingdom711)에 프로젝트 생성 권한이 있는지 확인하세요. 조직 레벨 프로젝트를 생성하려면 조직 관리자 권한이 필요할 수 있습니다.

## 수동 설정 (대안)

스크립트가 작동하지 않는 경우, 다음을 수동으로 수행할 수 있습니다:

1. GitHub에서 프로젝트 생성: https://github.com/users/kingdom711/projects
2. 프로젝트에 "Start date" 및 "Due date" 필드 추가
3. 각 이슈를 프로젝트에 드래그 앤 드롭
4. 각 이슈의 날짜 필드에 시작일/종료일 입력

## 참고

- 스크립트는 Rate Limit을 고려하여 각 작업 사이에 500ms 지연을 둡니다.
- 이미 프로젝트에 추가된 이슈는 건너뜁니다.
- 프로젝트 필드 이름은 정확히 일치해야 합니다 (대소문자 구분).

